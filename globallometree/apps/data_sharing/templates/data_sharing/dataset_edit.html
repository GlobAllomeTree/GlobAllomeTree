{% extends 'base.html' %}
{% load staticfiles %}

{% block add_to_header %}
	<link rel="stylesheet" type="text/css" href="{% static 'data_sharing/css/hello.css' %}" />

{% endblock %}

{% block script %}
	<script src="{% static 'js/backbone.js' %}"></script>
	<script src="{% static 'js/backbone.marionette.js' %}"></script>
	<script src="{% static 'data_sharing/js/hello.js' %}"></script>
	<script type="text/javascript">
	

		var SingleLink = Marionette.ItemView.extend({
		  tagName: "li",
		  template: _.template("<a href='#'><%-Substitute_equation%></a>")
		});

		var ListView = Marionette.CollectionView.extend({
		  tagName: 'ul',
		  childView: SingleLink
		});

		var list = new Backbone.Collection();

		var listView = new ListView({
		  collection: list,
		  el: '.link-area'
		});

		listView.render();

		$.ajax({
			url :'/api/v1/datasets/' + '{{ Dataset_ID }}' + '/',
			data : {
				format : 'json'
			},
			success : function (data, textStatus) {
						Data_as_json = JSON.parse(data.Data_as_json);
			   			list.add(Data_as_json);
			   			debugger;
			   			},
			dataType : 'json'
			});

	</script>

{% endblock %}

{% block content %}
 	<div class="row">
        <div class="col-md-12">
			<h2>Edit Dataset</h2>
			<p id="hello"></p>
			<div class="link-area"></div>
		</div>
	</div>	

	
{% endblock %}